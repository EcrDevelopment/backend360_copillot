# Generated by Django 5.2.5 on 2025-11-20 22:21

import django.db.models.deletion
import django.utils.timezone
import simple_history.models
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('importaciones', '0035_alter_declaracion_created_date_and_more'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='GremisionCab',
            fields=[
                ('serie', models.CharField(db_column='GRENUMSER', max_length=4, primary_key=True, serialize=False)),
                ('numero', models.CharField(db_column='GRENUMDOC', max_length=8)),
                ('tipo_origen', models.CharField(db_column='GRETIPO_ORIGEN', max_length=2)),
                ('fecha_emision', models.DateTimeField(blank=True, db_column='GREFECEMISION', null=True)),
                ('estado', models.CharField(db_column='GRESTADO', max_length=50)),
                ('motivo_traslado', models.CharField(db_column='DESCMOTIVOTRASLADO', max_length=1000)),
                ('emisorrazsocial', models.CharField(db_column='EMISORRAZSOCIAL', max_length=100)),
                ('receptorrazsocial', models.CharField(db_column='RECEPTORRAZSOCIAL', max_length=100)),
                ('transportistarazsocial', models.CharField(db_column='TRANSPORTISTARAZSOCIAL', max_length=100)),
                ('ruc_transportista', models.CharField(db_column='TRANSPORTISTANUMDOC', max_length=15)),
                ('llegada_ubigeo', models.CharField(db_column='LLEGADAUBIGEO', max_length=8)),
                ('llegada_direccion', models.CharField(db_column='LLEGADADIRECCION', max_length=500)),
                ('partida_ubigeo', models.CharField(db_column='PARTIDAUBIGEO', max_length=8)),
                ('partida_direccion', models.CharField(db_column='PARTIDADIRECCION', max_length=500)),
                ('pesobrutototal', models.DecimalField(db_column='PESOBRUTOTOTAL', decimal_places=3, max_digits=12)),
                ('url', models.CharField(db_column='URL_CDR', max_length=1000)),
            ],
            options={
                'db_table': 'GREMISION_CAB',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='GremisionDet',
            fields=[
                ('grenumser', models.CharField(db_column='GRENUMSER', max_length=4, primary_key=True, serialize=False)),
                ('grenumdoc', models.CharField(db_column='GRENUMDOC', max_length=8)),
                ('gretipo', models.CharField(db_column='GRETIPO', max_length=2)),
                ('gretipo_origen', models.CharField(db_column='GRETIPO_ORIGEN', max_length=2)),
                ('itemorden', models.IntegerField(db_column='ITEMORDEN')),
                ('itemcodigo', models.CharField(blank=True, db_column='ITEMCODIGO', max_length=50, null=True)),
                ('itemdescripcion', models.CharField(db_column='ITEMDESCRIPCION', max_length=250)),
                ('itemcantidad', models.DecimalField(db_column='ITEMCANTIDAD', decimal_places=10, default=0, max_digits=23)),
                ('itemumedida', models.CharField(db_column='ITEMUMEDIDA', max_length=4)),
                ('itemumedida_origen', models.CharField(db_column='ITEMUMEDIDA_ORIGEN', max_length=12)),
            ],
            options={
                'db_table': 'GREMISION_DET',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='MovAlmCab',
            fields=[
                ('caalma', models.CharField(db_column='CAALMA', max_length=2, primary_key=True, serialize=False)),
                ('catd', models.CharField(db_column='CATD', max_length=2)),
                ('canumdoc', models.CharField(db_column='CANUMDOC', max_length=11)),
                ('cafecdoc', models.DateTimeField(blank=True, db_column='CAFECDOC', null=True)),
                ('catipmov', models.CharField(blank=True, db_column='CATIPMOV', max_length=1, null=True)),
                ('cacodmov', models.CharField(blank=True, db_column='CACODMOV', max_length=2, null=True)),
                ('casitua', models.CharField(blank=True, db_column='CASITUA', max_length=1, null=True)),
                ('carftdoc', models.CharField(blank=True, db_column='CARFTDOC', max_length=2, null=True)),
                ('carfndoc', models.CharField(blank=True, db_column='CARFNDOC', max_length=21, null=True)),
                ('casoli', models.CharField(blank=True, db_column='CASOLI', max_length=3, null=True)),
                ('cafecdev', models.CharField(blank=True, db_column='CAFECDEV', max_length=8, null=True)),
                ('cacodpro', models.CharField(blank=True, db_column='CACODPRO', max_length=11, null=True)),
                ('cacencos', models.CharField(blank=True, db_column='CACENCOS', max_length=10, null=True)),
                ('carfalma', models.CharField(blank=True, db_column='CARFALMA', max_length=2, null=True)),
                ('caglosa', models.CharField(blank=True, db_column='CAGLOSA', max_length=8000, null=True)),
                ('cafecact', models.DateTimeField(blank=True, db_column='CAFECACT', null=True)),
                ('cahora', models.CharField(blank=True, db_column='CAHORA', max_length=8, null=True)),
                ('causuari', models.CharField(blank=True, db_column='CAUSUARI', max_length=8, null=True)),
                ('cacodcli', models.CharField(blank=True, db_column='CACODCLI', max_length=11, null=True)),
                ('caruc', models.CharField(blank=True, db_column='CARUC', max_length=11, null=True)),
                ('canomcli', models.CharField(blank=True, db_column='CANOMCLI', max_length=100, null=True)),
                ('caforven', models.CharField(blank=True, db_column='CAFORVEN', max_length=4, null=True)),
                ('cacodmon', models.CharField(blank=True, db_column='CACODMON', default='', max_length=2)),
                ('cavende', models.CharField(blank=True, db_column='CAVENDE', max_length=2, null=True)),
                ('catipcam', models.DecimalField(blank=True, db_column='CATIPCAM', decimal_places=6, default=0, max_digits=15, null=True)),
                ('catipgui', models.CharField(blank=True, db_column='CATIPGUI', max_length=2, null=True)),
                ('casitgui', models.CharField(blank=True, db_column='CASITGUI', max_length=1, null=True)),
                ('caguifac', models.CharField(blank=True, db_column='CAGUIFAC', max_length=1, null=True)),
                ('cadirenv', models.CharField(blank=True, db_column='CADIRENV', max_length=100, null=True)),
                ('cacodtran', models.CharField(blank=True, db_column='CACODTRAN', max_length=11, null=True)),
                ('canumord', models.CharField(blank=True, db_column='CANUMORD', max_length=5000, null=True)),
                ('caguidev', models.CharField(blank=True, db_column='CAGUIDEV', max_length=1, null=True)),
                ('canompro', models.CharField(blank=True, db_column='CANOMPRO', max_length=100, null=True)),
                ('canroped', models.CharField(blank=True, db_column='CANROPED', max_length=5000, null=True)),
                ('cacotiza', models.CharField(blank=True, db_column='CACOTIZA', max_length=10, null=True)),
                ('capordescl', models.DecimalField(blank=True, db_column='CAPORDESCL', decimal_places=6, default=0, max_digits=15, null=True)),
                ('capordeses', models.DecimalField(blank=True, db_column='CAPORDESES', decimal_places=6, default=0, max_digits=15, null=True)),
                ('caimporte', models.DecimalField(blank=True, db_column='CAIMPORTE', decimal_places=6, default=0, max_digits=15, null=True)),
                ('canomtra', models.CharField(blank=True, db_column='CANOMTRA', max_length=40, null=True)),
                ('cadirtra', models.CharField(blank=True, db_column='CADIRTRA', max_length=50, null=True)),
                ('caructra', models.CharField(blank=True, db_column='CARUCTRA', max_length=11, null=True)),
                ('caplatra', models.CharField(blank=True, db_column='CAPLATRA', max_length=10, null=True)),
                ('canroimp', models.CharField(blank=True, db_column='CANROIMP', max_length=13, null=True)),
                ('cacodliq', models.CharField(blank=True, db_column='CACODLIQ', max_length=20, null=True)),
                ('caestimp', models.CharField(blank=True, db_column='CAESTIMP', max_length=1, null=True)),
                ('cierre', models.BooleanField(db_column='CACIERRE', default=0)),
                ('catipdep', models.CharField(blank=True, db_column='CATIPDEP', max_length=2, null=True)),
                ('cazonaf', models.CharField(blank=True, db_column='CAZONAF', max_length=2, null=True)),
                ('flaggs', models.BooleanField(db_column='FLAGGS', default=0)),
                ('asiento', models.BooleanField(db_column='ASIENTO', default=0)),
                ('caflete', models.DecimalField(blank=True, db_column='CAFLETE', decimal_places=6, default=0, max_digits=15, null=True)),
                ('caordfab', models.CharField(blank=True, db_column='CAORDFAB', max_length=5000, null=True)),
                ('capedrefe', models.CharField(blank=True, db_column='CAPEDREFE', max_length=13, null=True)),
                ('caimportacion', models.BooleanField(db_column='CAIMPORTACION', default=0, null=True)),
                ('canrocajas', models.IntegerField(db_column='CANROCAJAS', default=0)),
                ('capesototal', models.DecimalField(db_column='CAPESOTOTAL', decimal_places=6, default=0, max_digits=15)),
                ('cadespacho', models.BooleanField(db_column='CADESPACHO', default=0)),
                ('linvcodigo', models.CharField(blank=True, db_column='LINVCODIGO', max_length=2, null=True)),
                ('cod_direccion', models.DecimalField(blank=True, db_column='COD_DIRECCION', decimal_places=0, max_digits=9, null=True)),
                ('costomin', models.DecimalField(blank=True, db_column='COSTOMIN', decimal_places=6, default=0, max_digits=15, null=True)),
                ('cainterface', models.IntegerField(blank=True, db_column='CAINTERFACE', default=0, null=True)),
                ('cactacont', models.CharField(blank=True, db_column='CACTACONT', max_length=18, null=True)),
                ('cacontrolstock', models.CharField(db_column='CACONTROLSTOCK', default='N', max_length=1)),
                ('canomrecep', models.CharField(blank=True, db_column='CANOMRECEP', max_length=70, null=True)),
                ('cadnirecep', models.CharField(blank=True, db_column='CADNIRECEP', max_length=8, null=True)),
                ('cfdirerefe', models.CharField(blank=True, db_column='CFDIREREFE', max_length=150, null=True)),
                ('reg_compra', models.BooleanField(db_column='REG_COMPRA', null=True)),
                ('oc_ni_guia', models.BooleanField(db_column='OC_NI_GUIA', default=0)),
                ('cod_auditoria', models.CharField(blank=True, db_column='COD_AUDITORIA', max_length=12, null=True)),
                ('cod_modulo', models.CharField(blank=True, db_column='COD_MODULO', max_length=2, null=True)),
                ('no_giro_negocio', models.BooleanField(db_column='NO_GIRO_NEGOCIO', default=0)),
                ('motivo_anulacion_doc_electronico', models.CharField(blank=True, db_column='MOTIVO_ANULACION_DOC_ELECTRONICO', max_length=100, null=True)),
                ('documento_electronico', models.BooleanField(db_column='DOCUMENTO_ELECTRONICO', null=True)),
                ('gs_baja', models.CharField(blank=True, db_column='GS_BAJA', max_length=15, null=True)),
                ('flg_gs_baja', models.BooleanField(db_column='FLG_GS_BAJA', null=True)),
                ('cadocumentoimportado', models.CharField(blank=True, db_column='CADocumentoImportado', max_length=12, null=True)),
                ('documento_contingencia', models.BooleanField(db_column='DOCUMENTO_CONTINGENCIA', null=True)),
                ('ge_baja', models.CharField(blank=True, db_column='GE_BAJA', max_length=11, null=True)),
                ('solicitante', models.CharField(blank=True, db_column='SOLICITANTE', max_length=100, null=True)),
                ('etiqueta1', models.CharField(blank=True, db_column='ETIQUETA1', max_length=100, null=True)),
                ('etiqueta2', models.CharField(blank=True, db_column='ETIQUETA2', max_length=100, null=True)),
                ('etiqueta3', models.CharField(blank=True, db_column='ETIQUETA3', max_length=100, null=True)),
                ('etiqueta4', models.CharField(blank=True, db_column='ETIQUETA4', max_length=100, null=True)),
                ('etiqueta5', models.CharField(blank=True, db_column='ETIQUETA5', max_length=100, null=True)),
                ('etiqueta6', models.CharField(blank=True, db_column='ETIQUETA6', max_length=100, null=True)),
                ('etiqueta7', models.CharField(blank=True, db_column='ETIQUETA7', max_length=50, null=True)),
                ('etiqueta8', models.CharField(blank=True, db_column='ETIQUETA8', max_length=100, null=True)),
                ('gs_transportista', models.BooleanField(db_column='GS_TRANSPORTISTA', null=True)),
                ('cafectras', models.DateTimeField(blank=True, db_column='CAFECTRAS', null=True)),
                ('motivo_gs', models.CharField(blank=True, db_column='MOTIVO_GS', max_length=50, null=True)),
                ('direcion_prov', models.CharField(blank=True, db_column='DIRECION_PROV', max_length=100, null=True)),
                ('comentario', models.CharField(blank=True, db_column='COMENTARIO', max_length=500, null=True)),
                ('cantbultos', models.CharField(blank=True, db_column='CANTBULTOS', max_length=20, null=True)),
                ('numctn1', models.CharField(blank=True, db_column='NUMCTN1', max_length=20, null=True)),
                ('numpto1', models.CharField(blank=True, db_column='NUMPTO1', max_length=20, null=True)),
                ('numctn2', models.CharField(blank=True, db_column='NUMCTN2', max_length=20, null=True)),
                ('numpto2', models.CharField(blank=True, db_column='NUMPTO2', max_length=20, null=True)),
                ('cod_direccionp', models.DecimalField(blank=True, db_column='COD_DIRECCIONP', decimal_places=0, max_digits=9, null=True)),
                ('codpuertodesembarque', models.CharField(blank=True, db_column='CODPUERTODESEMBARQUE', max_length=3, null=True)),
                ('nompuertodesembarque', models.CharField(blank=True, db_column='NOMPUERTODESEMBARQUE', max_length=250, null=True)),
                ('numregmtc', models.CharField(blank=True, db_column='NUMREGMTC', max_length=20, null=True)),
                ('flgdesde_transportista', models.BooleanField(db_column='FLGDESDE_TRANSPORTISTA', null=True)),
                ('cliente_tercero', models.CharField(blank=True, db_column='CLIENTE_TERCERO', max_length=11, null=True)),
                ('direccion_tercero', models.CharField(blank=True, db_column='DIRECCION_TERCERO', max_length=100, null=True)),
            ],
            options={
                'db_table': 'MOVALMCAB',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='MovAlmDet',
            fields=[
                ('dealma', models.CharField(db_column='DEALMA', max_length=2, primary_key=True, serialize=False)),
                ('detd', models.CharField(db_column='DETD', max_length=2)),
                ('denumdoc', models.CharField(db_column='DENUMDOC', max_length=11)),
                ('deitem', models.IntegerField(db_column='DEITEM')),
                ('decodigo', models.CharField(blank=True, db_column='DECODIGO', max_length=20, null=True)),
                ('decodref', models.CharField(blank=True, db_column='DECODREF', max_length=40, null=True)),
                ('decantid', models.DecimalField(blank=True, db_column='DECANTID', decimal_places=6, default=0, max_digits=15, null=True)),
                ('decantent', models.DecimalField(blank=True, db_column='DECANTENT', decimal_places=6, default=0, max_digits=15, null=True)),
                ('decanref', models.DecimalField(blank=True, db_column='DECANREF', decimal_places=6, default=0, max_digits=15, null=True)),
                ('decanfac', models.DecimalField(blank=True, db_column='DECANFAC', decimal_places=6, default=0, max_digits=15, null=True)),
                ('deorden', models.CharField(blank=True, db_column='DEORDEN', max_length=6, null=True)),
                ('depreuni', models.DecimalField(blank=True, db_column='DEPREUNI', decimal_places=6, default=0, max_digits=15, null=True)),
                ('deprecio', models.DecimalField(blank=True, db_column='DEPRECIO', decimal_places=6, default=0, max_digits=28, null=True)),
                ('depreci1', models.DecimalField(blank=True, db_column='DEPRECI1', decimal_places=6, default=0, max_digits=28, null=True)),
                ('dedescto', models.DecimalField(blank=True, db_column='DEDESCTO', decimal_places=6, default=0, max_digits=15, null=True)),
                ('destock', models.CharField(blank=True, db_column='DESTOCK', max_length=50, null=True)),
                ('deigv', models.DecimalField(blank=True, db_column='DEIGV', decimal_places=6, default=0, max_digits=15, null=True)),
                ('deimpmn', models.DecimalField(blank=True, db_column='DEIMPMN', decimal_places=6, default=0, max_digits=28, null=True)),
                ('deimpus', models.DecimalField(blank=True, db_column='DEIMPUS', decimal_places=6, default=0, max_digits=28, null=True)),
                ('deserie', models.CharField(blank=True, db_column='DESERIE', max_length=45, null=True)),
                ('desitua', models.CharField(blank=True, db_column='DESITUA', max_length=1, null=True)),
                ('defecdoc', models.DateTimeField(blank=True, db_column='DEFECDOC', null=True)),
                ('decencos', models.CharField(blank=True, db_column='DECENCOS', max_length=10, null=True)),
                ('derfalma', models.CharField(blank=True, db_column='DERFALMA', max_length=2, null=True)),
                ('detr', models.CharField(blank=True, db_column='DETR', max_length=1, null=True)),
                ('deestado', models.CharField(blank=True, db_column='DEESTADO', max_length=1, null=True)),
                ('decodmov', models.CharField(blank=True, db_column='DECODMOV', max_length=2, null=True)),
                ('devaltot', models.DecimalField(blank=True, db_column='DEVALTOT', decimal_places=6, default=0, max_digits=15, null=True)),
                ('decompro', models.CharField(blank=True, db_column='DECOMPRO', max_length=6, null=True)),
                ('decodmon', models.CharField(blank=True, db_column='DECODMON', max_length=2, null=True)),
                ('detipo', models.CharField(blank=True, db_column='DETIPO', max_length=1, null=True)),
                ('detipcam', models.DecimalField(blank=True, db_column='DETIPCAM', decimal_places=6, default=0, max_digits=15, null=True)),
                ('deprevta', models.DecimalField(blank=True, db_column='DEPREVTA', decimal_places=6, default=0, max_digits=15, null=True)),
                ('demonvta', models.CharField(blank=True, db_column='DEMONVTA', max_length=2, null=True)),
                ('defecven', models.DateTimeField(blank=True, db_column='DEFECVEN', null=True)),
                ('dedevol', models.DecimalField(blank=True, db_column='DEDEVOL', decimal_places=6, default=0, max_digits=15, null=True)),
                ('desoli', models.CharField(blank=True, db_column='DESOLI', max_length=3, null=True)),
                ('dedescri', models.CharField(blank=True, db_column='DEDESCRI', max_length=200, null=True)),
                ('depordes', models.DecimalField(blank=True, db_column='DEPORDES', decimal_places=6, default=0, max_digits=15, null=True)),
                ('deigvpor', models.DecimalField(blank=True, db_column='DEIGVPOR', decimal_places=6, default=0, max_digits=15, null=True)),
                ('dedescli', models.DecimalField(blank=True, db_column='DEDESCLI', decimal_places=6, default=0, max_digits=15, null=True)),
                ('dedesesp', models.DecimalField(blank=True, db_column='DEDESESP', decimal_places=6, default=0, max_digits=15, null=True)),
                ('denumfac', models.CharField(blank=True, db_column='DENUMFAC', max_length=10, null=True)),
                ('delote', models.CharField(blank=True, db_column='DELOTE', max_length=45, null=True)),
                ('deunidad', models.CharField(blank=True, db_column='DEUNIDAD', max_length=6, null=True)),
                ('decantbruta', models.DecimalField(blank=True, db_column='DECANTBRUTA', decimal_places=6, default=0, max_digits=15, null=True)),
                ('dedsctcantbruta', models.DecimalField(blank=True, db_column='DEDSCTCANTBRUTA', decimal_places=6, default=0, max_digits=15, null=True)),
                ('deordfab', models.CharField(blank=True, db_column='DEORDFAB', max_length=20, null=True)),
                ('dequipo', models.CharField(blank=True, db_column='DEQUIPO', max_length=10, null=True)),
                ('deflete', models.DecimalField(blank=True, db_column='DEFLETE', decimal_places=6, default=0, max_digits=15, null=True)),
                ('deitemi', models.CharField(blank=True, db_column='DEITEMI', max_length=10, null=True)),
                ('deglosa', models.CharField(blank=True, db_column='DEGLOSA', max_length=300, null=True)),
                ('devalorizado', models.BooleanField(db_column='DEVALORIZADO', default=0)),
                ('desecuenori', models.CharField(blank=True, db_column='DESECUENORI', max_length=3, null=True)),
                ('dereferencia', models.CharField(blank=True, db_column='DEREFERENCIA', max_length=5000, null=True)),
                ('umreferencia', models.CharField(blank=True, db_column='UMREFERENCIA', max_length=6, null=True)),
                ('cantreferencia', models.DecimalField(blank=True, db_column='CANTREFERENCIA', decimal_places=6, default=0, max_digits=15, null=True)),
                ('decuenta', models.CharField(blank=True, db_column='DECUENTA', max_length=18, null=True)),
                ('detexto', models.TextField(blank=True, db_column='DETEXTO', null=True)),
                ('cta_consumo', models.CharField(blank=True, db_column='CTA_CONSUMO', max_length=18, null=True)),
                ('codparte', models.CharField(db_column='CODPARTE', default='', max_length=3)),
                ('codplano', models.CharField(db_column='CODPLANO', default='', max_length=3)),
                ('detproduccion', models.IntegerField(db_column='DETPRODUCCION', default=0)),
                ('mpma', models.CharField(db_column='MPMA', default='', max_length=2)),
                ('porcentajecosto', models.DecimalField(db_column='PorcentajeCosto', decimal_places=6, default=0, max_digits=28)),
                ('deprecioref', models.DecimalField(blank=True, db_column='DEPRECIOREF', decimal_places=6, default=0, max_digits=28, null=True)),
                ('saldo_nc', models.DecimalField(blank=True, db_column='SALDO_NC', decimal_places=6, max_digits=18, null=True)),
            ],
            options={
                'db_table': 'MOVALMDET',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Almacen',
            fields=[
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateTimeField(auto_now=True, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('codigo', models.CharField(max_length=2)),
                ('descripcion', models.CharField(blank=True, max_length=25, null=True)),
                ('distrito', models.CharField(blank=True, max_length=30, null=True)),
                ('telefono', models.CharField(blank=True, max_length=10, null=True)),
                ('tactlnum', models.CharField(blank=True, max_length=1, null=True)),
                ('tanument', models.IntegerField(default=0, null=True)),
                ('tanumsal', models.IntegerField(default=0, null=True)),
                ('direccion', models.CharField(blank=True, max_length=100, null=True)),
                ('atipo', models.CharField(blank=True, max_length=2, null=True)),
                ('tipo_almacen', models.CharField(blank=True, max_length=2, null=True)),
                ('ubigeo', models.CharField(blank=True, max_length=12, null=True)),
                ('tacod_establecimiento', models.CharField(blank=True, max_length=5, null=True)),
                ('empresa', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='almacenes', to='importaciones.empresa', verbose_name='Empresa Perteneciente')),
            ],
            options={
                'verbose_name': 'Almacén',
                'verbose_name_plural': 'Almacenes',
                'db_table': 'almacen',
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='HistoricalAlmacen',
            fields=[
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateTimeField(blank=True, editable=False, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateTimeField(blank=True, editable=False, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.IntegerField(blank=True, db_index=True)),
                ('codigo', models.CharField(max_length=2)),
                ('descripcion', models.CharField(blank=True, max_length=25, null=True)),
                ('distrito', models.CharField(blank=True, max_length=30, null=True)),
                ('telefono', models.CharField(blank=True, max_length=10, null=True)),
                ('tactlnum', models.CharField(blank=True, max_length=1, null=True)),
                ('tanument', models.IntegerField(default=0, null=True)),
                ('tanumsal', models.IntegerField(default=0, null=True)),
                ('direccion', models.CharField(blank=True, max_length=100, null=True)),
                ('atipo', models.CharField(blank=True, max_length=2, null=True)),
                ('tipo_almacen', models.CharField(blank=True, max_length=2, null=True)),
                ('ubigeo', models.CharField(blank=True, max_length=12, null=True)),
                ('tacod_establecimiento', models.CharField(blank=True, max_length=5, null=True)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('empresa', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='importaciones.empresa', verbose_name='Empresa Perteneciente')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Almacén',
                'verbose_name_plural': 'historical Almacenes',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
                'managed': True,
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalGastoDocumentoAlmacen',
            fields=[
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateTimeField(blank=True, editable=False, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateTimeField(blank=True, editable=False, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.IntegerField(blank=True, db_index=True)),
                ('id_erp_cab', models.CharField(db_index=True, help_text='PK de MOVALMCAB (ej: AD-GS-0000001)', max_length=50)),
                ('tipo_gasto', models.CharField(choices=[('EST', 'Estibaje'), ('TRN', 'Transporte'), ('SEG', 'Seguro'), ('OTR', 'Otros')], default='OTR', max_length=3)),
                ('descripcion', models.TextField(blank=True, help_text='Detalles adicionales del gasto', null=True)),
                ('monto', models.DecimalField(decimal_places=2, max_digits=12)),
                ('fecha_gasto', models.DateField(default=django.utils.timezone.now)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('empresa', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='importaciones.empresa')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Gasto de Documento de Almacén',
                'verbose_name_plural': 'historical Gastos de Documentos de Almacén',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalMovimientoAlmacen',
            fields=[
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateTimeField(blank=True, editable=False, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateTimeField(blank=True, editable=False, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.IntegerField(blank=True, db_index=True)),
                ('id_erp_cab', models.CharField(db_index=True, help_text='PK de MOVALMCAB (ej: AD-NI-0000001)', max_length=50)),
                ('id_erp_det', models.CharField(db_index=True, help_text='PK de MOVALMDET (ej: AD-NI-0000001-1)', max_length=60)),
                ('tipo_documento_erp', models.CharField(help_text='Ej: NI, GS, TR (viene de CATD/DETD)', max_length=2)),
                ('numero_documento_erp', models.CharField(help_text='Ej: 0000001 (viene de CANUMDOC/DENUMDOC)', max_length=11)),
                ('item_erp', models.IntegerField(help_text='Número de línea (viene de DEITEM)')),
                ('fecha_documento', models.DateTimeField()),
                ('fecha_movimiento', models.DateTimeField(blank=True, help_text='Podría ser CAFECDOC o CAFECACT', null=True)),
                ('cantidad', models.DecimalField(decimal_places=6, max_digits=15)),
                ('unidad_medida_erp', models.CharField(blank=True, max_length=6, null=True)),
                ('costo_unitario', models.DecimalField(decimal_places=6, default=0, max_digits=15)),
                ('valor_total', models.DecimalField(decimal_places=6, default=0, max_digits=15)),
                ('glosa_cabecera', models.TextField(blank=True, null=True)),
                ('glosa_detalle', models.TextField(blank=True, null=True)),
                ('referencia_documento', models.CharField(blank=True, max_length=25, null=True)),
                ('numero_orden_compra', models.TextField(blank=True, null=True)),
                ('lote', models.CharField(blank=True, max_length=50, null=True)),
                ('serie', models.CharField(blank=True, max_length=50, null=True)),
                ('proveedor_erp_id', models.CharField(blank=True, db_index=True, max_length=15, null=True)),
                ('cliente_erp_id', models.CharField(blank=True, db_index=True, help_text='CACODCLI', max_length=15, null=True)),
                ('cliente_erp_nombre', models.CharField(blank=True, help_text='CANOMCLI', max_length=100, null=True)),
                ('direccion_envio_erp', models.CharField(blank=True, help_text='CADIRENV', max_length=100, null=True)),
                ('estado_erp', models.CharField(blank=True, db_index=True, help_text='CASITGUI (F=Facturado, V=Venta, A=Anulado)', max_length=1, null=True)),
                ('es_ingreso', models.BooleanField(default=True, help_text='True para NI, False para GS/TR')),
                ('motivo_tras', models.CharField(blank=True, help_text='MOTIVO_GS', max_length=100, null=True)),
                ('almacen_ref', models.CharField(blank=True, help_text='CARFALMA', max_length=10, null=True)),
                ('nombre_proveedor', models.CharField(blank=True, help_text='CANOMPRO', max_length=100, null=True)),
                ('id_transportista_erp', models.CharField(blank=True, help_text='CACODTRAN', max_length=100, null=True)),
                ('id_importacion', models.CharField(blank=True, help_text='CANROIMP', max_length=20, null=True)),
                ('importacion', models.BooleanField(blank=True, default=False, help_text='CAIMPORTACION', null=True)),
                ('nombre_transportista', models.CharField(blank=True, help_text='CANOMTRA', max_length=150, null=True)),
                ('codigo_movimiento', models.CharField(blank=True, help_text='CACODMOV', max_length=10, null=True)),
                ('cantidad_bultos', models.DecimalField(blank=True, decimal_places=2, help_text='Cantidad de bultos (ej. campo CANTBULTOS del ERP)', max_digits=15, null=True)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('almacen', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='almacen.almacen')),
                ('empresa', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='importaciones.empresa')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('producto', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='importaciones.producto')),
                ('sede_facturacion', models.ForeignKey(blank=True, db_constraint=False, help_text='Almacén/Sede para reportes (usado en GV para vincular a sede de factura)', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='almacen.almacen')),
            ],
            options={
                'verbose_name': 'historical Movimiento de Almacén',
                'verbose_name_plural': 'historical Movimientos de Almacén',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalMovimientoAlmacenNota',
            fields=[
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateTimeField(blank=True, editable=False, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateTimeField(blank=True, editable=False, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.IntegerField(blank=True, db_index=True)),
                ('id_erp_cab', models.CharField(db_index=True, help_text='PK de MOVALMCAB (ej: AD-NI-0000001)', max_length=50)),
                ('id_erp_det', models.CharField(db_index=True, help_text='PK de MOVALMDET para esta línea de texto (ej: AD-NI-0000001-2)', max_length=60)),
                ('item_erp', models.IntegerField(help_text='Número de línea (viene de DEITEM)')),
                ('texto_descripcion', models.TextField(blank=True, help_text="Viene de DEDESCRI en la línea 'TEXTO'", null=True)),
                ('texto_detalle', models.TextField(blank=True, help_text="Viene de DETEXTO en la línea 'TEXTO'", null=True)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('empresa', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='importaciones.empresa')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Nota de Movimiento de Almacén',
                'verbose_name_plural': 'historical Notas de Movimientos de Almacén',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalTransferencia',
            fields=[
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateTimeField(blank=True, editable=False, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateTimeField(blank=True, editable=False, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.IntegerField(blank=True, db_index=True)),
                ('id_erp_salida_det', models.CharField(db_index=True, max_length=60)),
                ('id_erp_ingreso_det', models.CharField(blank=True, db_index=True, max_length=60, null=True)),
                ('id_erp_salida_cab', models.CharField(db_index=True, max_length=50)),
                ('id_erp_ingreso_cab', models.CharField(blank=True, db_index=True, max_length=50, null=True)),
                ('cantidad_enviada', models.DecimalField(decimal_places=6, max_digits=15)),
                ('cantidad_recibida', models.DecimalField(blank=True, decimal_places=6, max_digits=15, null=True)),
                ('cantidad_diferencia', models.DecimalField(blank=True, decimal_places=6, default=0, max_digits=15, null=True)),
                ('estado', models.CharField(choices=[('EN_TRANSITO', 'En Tránsito'), ('RECIBIDO', 'Recibido Completo'), ('RECIBIDO_PARCIAL', 'Recibido Parcial (Pérdida)'), ('RECIBIDO_SOBRANTE', 'Recibido Sobrante (Ganancia)'), ('PERDIDO', 'Pérdida Total')], db_index=True, default='EN_TRANSITO', max_length=20)),
                ('fecha_envio', models.DateTimeField(help_text='Fecha del documento de salida (GS)')),
                ('fecha_recepcion', models.DateTimeField(blank=True, null=True)),
                ('notas_recepcion', models.TextField(blank=True, null=True)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('almacen_destino', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='almacen.almacen')),
                ('almacen_origen', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='almacen.almacen')),
                ('empresa', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='importaciones.empresa')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('producto', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='importaciones.producto')),
            ],
            options={
                'verbose_name': 'historical Transferencia entre Almacenes',
                'verbose_name_plural': 'historical Transferencia entre Almaceness',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='ControlSyncMovAlmacen',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ultima_fecha', models.DateTimeField(blank=True, help_text='Timestamp del último registro ERP procesado (ej: CAFECACT)', null=True)),
                ('last_full_sync_run', models.DateTimeField(blank=True, help_text='Cuándo se ejecutó la última comparación completa de claves (para anulaciones)', null=True)),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='importaciones.empresa')),
            ],
            options={
                'verbose_name': 'Control Sincronización Mov. Almacén',
                'verbose_name_plural': 'Controles Sincronización Mov. Almacén',
                'constraints': [models.UniqueConstraint(fields=('empresa',), name='unique_empresa_sync_movalmacen')],
            },
        ),
        migrations.CreateModel(
            name='GastoDocumentoAlmacen',
            fields=[
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateTimeField(auto_now=True, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('id_erp_cab', models.CharField(db_index=True, help_text='PK de MOVALMCAB (ej: AD-GS-0000001)', max_length=50)),
                ('tipo_gasto', models.CharField(choices=[('EST', 'Estibaje'), ('TRN', 'Transporte'), ('SEG', 'Seguro'), ('OTR', 'Otros')], default='OTR', max_length=3)),
                ('descripcion', models.TextField(blank=True, help_text='Detalles adicionales del gasto', null=True)),
                ('monto', models.DecimalField(decimal_places=2, max_digits=12)),
                ('fecha_gasto', models.DateField(default=django.utils.timezone.now)),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='gastos_documentos', to='importaciones.empresa')),
            ],
            options={
                'verbose_name': 'Gasto de Documento de Almacén',
                'verbose_name_plural': 'Gastos de Documentos de Almacén',
                'indexes': [models.Index(fields=['empresa', 'id_erp_cab'], name='almacen_gas_empresa_7f4c9d_idx')],
            },
        ),
        migrations.CreateModel(
            name='LegacyMovAlmCab',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('caalma', models.CharField(db_column='CAALMA', max_length=2)),
                ('catd', models.CharField(db_column='CATD', max_length=2)),
                ('canumdoc', models.CharField(db_column='CANUMDOC', max_length=11)),
                ('cafecdoc', models.DateTimeField(blank=True, db_column='CAFECDOC', null=True)),
                ('catipmov', models.CharField(blank=True, db_column='CATIPMOV', max_length=1, null=True)),
                ('cacodmov', models.CharField(blank=True, db_column='CACODMOV', max_length=2, null=True)),
                ('casitua', models.CharField(blank=True, db_column='CASITUA', max_length=1, null=True)),
                ('carftdoc', models.CharField(blank=True, db_column='CARFTDOC', max_length=2, null=True)),
                ('carfndoc', models.CharField(blank=True, db_column='CARFNDOC', max_length=21, null=True)),
                ('casoli', models.CharField(blank=True, db_column='CASOLI', max_length=3, null=True)),
                ('cafecdev', models.CharField(blank=True, db_column='CAFECDEV', max_length=8, null=True)),
                ('cacodpro', models.CharField(blank=True, db_column='CACODPRO', max_length=11, null=True)),
                ('cacencos', models.CharField(blank=True, db_column='CACENCOS', max_length=10, null=True)),
                ('carfalma', models.CharField(blank=True, db_column='CARFALMA', max_length=2, null=True)),
                ('caglosa', models.CharField(blank=True, db_column='CAGLOSA', max_length=8000, null=True)),
                ('cafecact', models.DateTimeField(blank=True, db_column='CAFECACT', null=True)),
                ('cahora', models.CharField(blank=True, db_column='CAHORA', max_length=8, null=True)),
                ('causuari', models.CharField(blank=True, db_column='CAUSUARI', max_length=8, null=True)),
                ('cacodcli', models.CharField(blank=True, db_column='CACODCLI', max_length=11, null=True)),
                ('canomcli', models.CharField(blank=True, db_column='CANOMCLI', max_length=100, null=True)),
                ('casitgui', models.CharField(blank=True, db_column='CASITGUI', max_length=1, null=True)),
                ('canompro', models.CharField(blank=True, db_column='CANOMPRO', max_length=100, null=True)),
                ('canomtra', models.CharField(blank=True, db_column='CANOMTRA', max_length=40, null=True)),
                ('cacodtran', models.CharField(blank=True, db_column='CACODTRAN', max_length=11, null=True)),
                ('caimportacion', models.BooleanField(db_column='CAIMPORTACION', default=0, null=True)),
                ('canroimp', models.CharField(blank=True, db_column='CANROIMP', max_length=13, null=True)),
                ('motivo_gs', models.CharField(blank=True, db_column='MOTIVO_GS', max_length=50, null=True)),
                ('canumord', models.CharField(blank=True, db_column='CANUMORD', max_length=5000, null=True)),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='legacy_cabeceras', to='importaciones.empresa')),
            ],
            options={
                'verbose_name': 'ERP Legacy Cabecera',
                'verbose_name_plural': 'ERP Legacy Cabeceras',
                'db_table': 'legacy_movalmcab',
                'managed': True,
                'indexes': [models.Index(fields=['empresa', 'cafecdoc'], name='legacy_mova_empresa_089cd9_idx')],
                'constraints': [models.UniqueConstraint(fields=('empresa', 'caalma', 'catd', 'canumdoc'), name='unique_legacy_cab_pk')],
            },
        ),
        migrations.CreateModel(
            name='LegacyMovAlmDet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('dealma', models.CharField(db_column='DEALMA', max_length=2)),
                ('detd', models.CharField(db_column='DETD', max_length=2)),
                ('denumdoc', models.CharField(db_column='DENUMDOC', max_length=11)),
                ('deitem', models.IntegerField(db_column='DEITEM')),
                ('decodigo', models.CharField(blank=True, db_column='DECODIGO', max_length=20, null=True)),
                ('decantid', models.DecimalField(blank=True, db_column='DECANTID', decimal_places=6, max_digits=15, null=True)),
                ('depreuni', models.DecimalField(blank=True, db_column='DEPREUNI', decimal_places=6, max_digits=15, null=True)),
                ('deserie', models.CharField(blank=True, db_column='DESERIE', max_length=45, null=True)),
                ('defecdoc', models.DateTimeField(blank=True, db_column='DEFECDOC', null=True)),
                ('deglosa', models.CharField(blank=True, db_column='DEGLOSA', max_length=300, null=True)),
                ('delote', models.CharField(blank=True, db_column='DELOTE', max_length=45, null=True)),
                ('deunidad', models.CharField(blank=True, db_column='DEUNIDAD', max_length=6, null=True)),
                ('devaltot', models.DecimalField(blank=True, db_column='DEVALTOT', decimal_places=6, max_digits=15, null=True)),
                ('dedescri', models.CharField(blank=True, db_column='DEDESCRI', max_length=200, null=True)),
                ('detexto', models.TextField(blank=True, db_column='DETEXTO', null=True)),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='legacy_detalles', to='importaciones.empresa')),
            ],
            options={
                'verbose_name': 'ERP Legacy Detalle',
                'verbose_name_plural': 'ERP Legacy Detalles',
                'db_table': 'legacy_movalmdet',
                'managed': True,
                'indexes': [models.Index(fields=['empresa', 'dealma', 'detd', 'denumdoc'], name='legacy_mova_empresa_4090c1_idx'), models.Index(fields=['empresa', 'decodigo'], name='legacy_mova_empresa_a2fb72_idx')],
                'constraints': [models.UniqueConstraint(fields=('empresa', 'dealma', 'detd', 'denumdoc', 'deitem'), name='unique_legacy_det_pk')],
            },
        ),
        migrations.CreateModel(
            name='MovimientoAlmacen',
            fields=[
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateTimeField(auto_now=True, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('id_erp_cab', models.CharField(db_index=True, help_text='PK de MOVALMCAB (ej: AD-NI-0000001)', max_length=50)),
                ('id_erp_det', models.CharField(db_index=True, help_text='PK de MOVALMDET (ej: AD-NI-0000001-1)', max_length=60)),
                ('tipo_documento_erp', models.CharField(help_text='Ej: NI, GS, TR (viene de CATD/DETD)', max_length=2)),
                ('numero_documento_erp', models.CharField(help_text='Ej: 0000001 (viene de CANUMDOC/DENUMDOC)', max_length=11)),
                ('item_erp', models.IntegerField(help_text='Número de línea (viene de DEITEM)')),
                ('fecha_documento', models.DateTimeField()),
                ('fecha_movimiento', models.DateTimeField(blank=True, help_text='Podría ser CAFECDOC o CAFECACT', null=True)),
                ('cantidad', models.DecimalField(decimal_places=6, max_digits=15)),
                ('unidad_medida_erp', models.CharField(blank=True, max_length=6, null=True)),
                ('costo_unitario', models.DecimalField(decimal_places=6, default=0, max_digits=15)),
                ('valor_total', models.DecimalField(decimal_places=6, default=0, max_digits=15)),
                ('glosa_cabecera', models.TextField(blank=True, null=True)),
                ('glosa_detalle', models.TextField(blank=True, null=True)),
                ('referencia_documento', models.CharField(blank=True, max_length=25, null=True)),
                ('numero_orden_compra', models.TextField(blank=True, null=True)),
                ('lote', models.CharField(blank=True, max_length=50, null=True)),
                ('serie', models.CharField(blank=True, max_length=50, null=True)),
                ('proveedor_erp_id', models.CharField(blank=True, db_index=True, max_length=15, null=True)),
                ('cliente_erp_id', models.CharField(blank=True, db_index=True, help_text='CACODCLI', max_length=15, null=True)),
                ('cliente_erp_nombre', models.CharField(blank=True, help_text='CANOMCLI', max_length=100, null=True)),
                ('direccion_envio_erp', models.CharField(blank=True, help_text='CADIRENV', max_length=100, null=True)),
                ('estado_erp', models.CharField(blank=True, db_index=True, help_text='CASITGUI (F=Facturado, V=Venta, A=Anulado)', max_length=1, null=True)),
                ('es_ingreso', models.BooleanField(default=True, help_text='True para NI, False para GS/TR')),
                ('motivo_tras', models.CharField(blank=True, help_text='MOTIVO_GS', max_length=100, null=True)),
                ('almacen_ref', models.CharField(blank=True, help_text='CARFALMA', max_length=10, null=True)),
                ('nombre_proveedor', models.CharField(blank=True, help_text='CANOMPRO', max_length=100, null=True)),
                ('id_transportista_erp', models.CharField(blank=True, help_text='CACODTRAN', max_length=100, null=True)),
                ('id_importacion', models.CharField(blank=True, help_text='CANROIMP', max_length=20, null=True)),
                ('importacion', models.BooleanField(blank=True, default=False, help_text='CAIMPORTACION', null=True)),
                ('nombre_transportista', models.CharField(blank=True, help_text='CANOMTRA', max_length=150, null=True)),
                ('codigo_movimiento', models.CharField(blank=True, help_text='CACODMOV', max_length=10, null=True)),
                ('cantidad_bultos', models.DecimalField(blank=True, decimal_places=2, help_text='Cantidad de bultos (ej. campo CANTBULTOS del ERP)', max_digits=15, null=True)),
                ('almacen', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='movimientos', to='almacen.almacen')),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='movimientos', to='importaciones.empresa')),
                ('producto', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='movimientos', to='importaciones.producto')),
                ('sede_facturacion', models.ForeignKey(blank=True, help_text='Almacén/Sede para reportes (usado en GV para vincular a sede de factura)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='movimientos_reportados', to='almacen.almacen')),
            ],
            options={
                'verbose_name': 'Movimiento de Almacén',
                'verbose_name_plural': 'Movimientos de Almacén',
                'constraints': [models.UniqueConstraint(fields=('empresa', 'id_erp_det'), name='unique_erp_detail_movement')],
            },
        ),
        migrations.CreateModel(
            name='MovimientoAlmacenNota',
            fields=[
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateTimeField(auto_now=True, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('id_erp_cab', models.CharField(db_index=True, help_text='PK de MOVALMCAB (ej: AD-NI-0000001)', max_length=50)),
                ('id_erp_det', models.CharField(db_index=True, help_text='PK de MOVALMDET para esta línea de texto (ej: AD-NI-0000001-2)', max_length=60)),
                ('item_erp', models.IntegerField(help_text='Número de línea (viene de DEITEM)')),
                ('texto_descripcion', models.TextField(blank=True, help_text="Viene de DEDESCRI en la línea 'TEXTO'", null=True)),
                ('texto_detalle', models.TextField(blank=True, help_text="Viene de DETEXTO en la línea 'TEXTO'", null=True)),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notas_movimiento', to='importaciones.empresa')),
            ],
            options={
                'verbose_name': 'Nota de Movimiento de Almacén',
                'verbose_name_plural': 'Notas de Movimientos de Almacén',
                'constraints': [models.UniqueConstraint(fields=('empresa', 'id_erp_det'), name='unique_erp_detail_note')],
            },
        ),
        migrations.CreateModel(
            name='Stock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cantidad_actual', models.DecimalField(decimal_places=6, default=0, max_digits=15)),
                ('cantidad_en_transito', models.DecimalField(decimal_places=6, default=0, max_digits=15)),
                ('fecha_ultimo_movimiento', models.DateTimeField(blank=True, null=True)),
                ('almacen', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='stocks', to='almacen.almacen')),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='stocks', to='importaciones.empresa')),
                ('producto', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='stocks', to='importaciones.producto')),
            ],
            options={
                'verbose_name': 'Stock Actual',
                'indexes': [models.Index(fields=['empresa', 'almacen', 'producto'], name='almacen_sto_empresa_691c17_idx')],
                'unique_together': {('empresa', 'almacen', 'producto')},
            },
        ),
        migrations.CreateModel(
            name='Transferencia',
            fields=[
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateTimeField(auto_now=True, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('id_erp_salida_det', models.CharField(db_index=True, max_length=60)),
                ('id_erp_ingreso_det', models.CharField(blank=True, db_index=True, max_length=60, null=True)),
                ('id_erp_salida_cab', models.CharField(db_index=True, max_length=50)),
                ('id_erp_ingreso_cab', models.CharField(blank=True, db_index=True, max_length=50, null=True)),
                ('cantidad_enviada', models.DecimalField(decimal_places=6, max_digits=15)),
                ('cantidad_recibida', models.DecimalField(blank=True, decimal_places=6, max_digits=15, null=True)),
                ('cantidad_diferencia', models.DecimalField(blank=True, decimal_places=6, default=0, max_digits=15, null=True)),
                ('estado', models.CharField(choices=[('EN_TRANSITO', 'En Tránsito'), ('RECIBIDO', 'Recibido Completo'), ('RECIBIDO_PARCIAL', 'Recibido Parcial (Pérdida)'), ('RECIBIDO_SOBRANTE', 'Recibido Sobrante (Ganancia)'), ('PERDIDO', 'Pérdida Total')], db_index=True, default='EN_TRANSITO', max_length=20)),
                ('fecha_envio', models.DateTimeField(help_text='Fecha del documento de salida (GS)')),
                ('fecha_recepcion', models.DateTimeField(blank=True, null=True)),
                ('notas_recepcion', models.TextField(blank=True, null=True)),
                ('almacen_destino', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='transferencias_entrantes', to='almacen.almacen')),
                ('almacen_origen', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='transferencias_salientes', to='almacen.almacen')),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transferencias', to='importaciones.empresa')),
                ('producto', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='transferencias', to='importaciones.producto')),
            ],
            options={
                'verbose_name': 'Transferencia entre Almacenes',
                'indexes': [models.Index(fields=['empresa', 'almacen_destino', 'producto', 'estado', 'fecha_recepcion'], name='almacen_tra_empresa_cead8a_idx'), models.Index(fields=['empresa', 'almacen_origen', 'producto', 'estado'], name='almacen_tra_empresa_e11310_idx'), models.Index(fields=['empresa', 'id_erp_ingreso_det'], name='almacen_tra_empresa_fc30cc_idx')],
                'unique_together': {('empresa', 'id_erp_salida_det')},
            },
        ),
    ]
